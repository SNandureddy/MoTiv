//
//  DashBoardVC.swift
//  MoTiv
//
//  Created by ios2 on 04/12/18.
//  Copyright Â© 2018 MoTiv. All rights reserved.
//

import UIKit

class DashBoardVC: BaseVC {
    
    //MARK: IBOutlets
    @IBOutlet weak var totalSalesAmountLabel: UILabel!
    @IBOutlet weak var totalSalesBaseView: UIView!
    @IBOutlet weak var tableView: UITableView!
    
    //MARK: Variables
    var selectedTag = 1
    
    //MARLK: Life cycle
    override func viewDidLoad() {
        super.viewDidLoad()
    }
    
    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        customiseUI()
    }
    
    //MARK: Private Methods
    private func customiseUI(){
        setTitle(title: kDashboard)
        self.totalSalesBaseView.set(radius: 14.0)
    }
}



//MARK: UITableview Datasource
extension DashBoardVC: UITableViewDataSource {
    
    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
        return 2
    }
    
    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
        if indexPath.row == 0 {
            let cell = tableView.dequeueReusableCell(withIdentifier: kSalesSummaryCell) as! SalesSummaryCell
            cell.hourlyBuytton.addTarget(self, action: #selector(self.timeSelectionAction(sender:)), for: .touchUpInside)
            cell.dailyButton.addTarget(self, action: #selector(self.timeSelectionAction(sender:)), for: .touchUpInside)
            cell.weeklyBUtton.addTarget(self, action: #selector(self.timeSelectionAction(sender:)), for: .touchUpInside)
            cell.monthlyButton.addTarget(self, action: #selector(self.timeSelectionAction(sender:)), for: .touchUpInside)
            (cell.viewWithTag(1) as! UIButton).backgroundColor = UIColor.motivColor.baseColor.color()
            (cell.viewWithTag(2) as! UIButton).backgroundColor = UIColor.motivColor.baseColor.color()
            (cell.viewWithTag(3) as! UIButton).backgroundColor = UIColor.motivColor.baseColor.color()
            (cell.viewWithTag(4) as! UIButton).backgroundColor = UIColor.motivColor.baseColor.color()
            (cell.viewWithTag(selectedTag) as! UIButton).backgroundColor = UIColor.motivColor.darkBaseColor.color()
            

            return cell
        }else {
            let cell = tableView.dequeueReusableCell(withIdentifier: kCheckInSummaryCell) as! CheckInSummaryCell
            return cell
        }
    }
    
    @objc func timeSelectionAction(sender: UIButton) {
        selectedTag = sender.tag
        tableView.reloadData()
    }
}
